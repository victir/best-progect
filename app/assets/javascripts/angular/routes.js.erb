'use strict';

angular.module('BestProject').config([
  '$routeProvider', '$locationProvider', function($routeProvider, $locationProvider) {
    $routeProvider
      .when('/', {
        templateUrl: '<%= asset_path('home/index.slim') %>',
        controller: 'HomeCtrl'
      })
      .when('/board/:boardId', {
        templateUrl: '<%= asset_path('boards/index.slim') %>',
        controller: 'ShowBoardCtrl'
      })
      .when('/board/:boardId/edit', {
        templateUrl: '<%= asset_path('boards/edit.slim') %>',
        controller: 'EditBoardCtrl'
      })
      .when('/tasks', {
        templateUrl: '<%= asset_path('tasks/index.slim') %>',
        controller: 'TasksCtrl'
      })
      .otherwise({ redirectTo: '#/' });
  }
]).config(["$httpProvider", function($httpProvider) {
    $httpProvider.defaults.headers.common['X-CSRF-Token'] = $('meta[name=csrf-token]').attr('content')
  }
])
